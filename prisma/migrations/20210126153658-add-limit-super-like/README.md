# Migration `20210126153658-add-limit-super-like`

This migration has been generated by Hien at 1/26/2021, 3:36:58 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."User" ADD COLUMN "remainingSuperLike" integer   NOT NULL DEFAULT 5,
ADD COLUMN "remainingSuperLikeUpdatedAt" timestamp(3)   NOT NULL DEFAULT CURRENT_TIMESTAMP
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20210119164038-refactor-post..20210126153658-add-limit-super-like
--- datamodel.dml
+++ datamodel.dml
@@ -2,9 +2,9 @@
 // learn more about it in the docs: https://pris.ly/d/prisma-schema
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 generator client {
   provider        = "prisma-client-js"
@@ -112,73 +112,75 @@
   other
 }
 model User {
-  id                      String                 @id @default(uuid())
-  password                String?
-  nickName                String
-  introduction            String?
-  birthday                DateTime?
-  gender                  Gender?
-  hobbies                 HobbyValue[]
-  phoneNumber             String?
-  job                     String?
-  height                  Int?
-  longitude               Float?
-  latitude                Float?
-  address                 String?
-  educationLevel          EducationLevel?
-  smoking                 UsualType?
-  drinking                UsualType?
-  yourKids                HaveKids?
-  lookingFors             LookingFor[]
-  religious               Religious?
-  privateFields           PrivateField[]
-  minAgePrefer            Int                    @default(18)
-  maxAgePrefer            Int                    @default(30)
-  minHeightPrefer         Int                    @default(150)
-  maxHeightPrefer         Int                    @default(180)
-  genderPrefer            Gender[]
-  distancePrefer          Int                    @default(100)
-  educationLevelsPrefer   EducationLevel[]
-  theirKids               HaveKids?
-  religiousPrefer         Religious[]
-  mustHaveFields          MustHaveField[]
-  allowMatching           Boolean                @default(true)
-  isPrivate               Boolean                @default(false)
-  showActive              Boolean                @default(true)
-  pushNotiSetting         NotificationType[]
-  avatar                  File?                  @relation("avatar", fields: [avatarId], references: [id])
-  avatarId                String?
-  cover                   File?                  @relation("cover", fields: [coverId], references: [id])
-  coverId                 String?
-  role                    Role                   @relation(fields: [roleId], references: [id])
-  roleId                  String
-  userImages              UserImage[]
-  senderMessage           Message[]              @relation("senderMessage")
-  socialProvider          SocialProvider[]
-  senderFriend            Friend[]               @relation("senderFriend")
-  receiverFriend          Friend[]               @relation("receiverFriend")
-  onlineStatus            OnlineStatus           @default(offline)
-  lastOnline              DateTime?
-  userAnswer              UserAnswer[]
-  dislikedUsers           DislikedUser[]         @relation("dislikedUser")
-  beDislikedByUsers       DislikedUser[]         @relation("beDislikedByUser")
-  recommendableUser       RecommendableUser[]    @relation("recommendableUser")
-  recommendToUser         RecommendableUser[]    @relation("recommendToUser")
-  conversationMembers     ConversationMember[]
-  status                  UserStatus             @default(enabled)
-  statusUpdatedAt         DateTime               @default(now())
-  updatedAt               DateTime               @updatedAt
-  createdAt               DateTime               @default(now())
-  deletedAt               DateTime?
-  userDeviceTokens        UserDeviceToken[]
-  refUserInNotifications  Notification[]         @relation("refUser")
-  receiverOfNotifications NotificationReceiver[]
-  likeCount               Int                    @default(0)
-  dislikeCount            Int                    @default(0)
-  Comment                 Comment[]
-  Post                    Post[]
+  id                          String                 @id @default(uuid())
+  password                    String?
+  nickName                    String
+  introduction                String?
+  birthday                    DateTime?
+  gender                      Gender?
+  hobbies                     HobbyValue[]
+  phoneNumber                 String?
+  job                         String?
+  height                      Int?
+  longitude                   Float?
+  latitude                    Float?
+  address                     String?
+  educationLevel              EducationLevel?
+  smoking                     UsualType?
+  drinking                    UsualType?
+  yourKids                    HaveKids?
+  lookingFors                 LookingFor[]
+  religious                   Religious?
+  privateFields               PrivateField[]
+  minAgePrefer                Int                    @default(18)
+  maxAgePrefer                Int                    @default(30)
+  minHeightPrefer             Int                    @default(150)
+  maxHeightPrefer             Int                    @default(180)
+  genderPrefer                Gender[]
+  distancePrefer              Int                    @default(100)
+  educationLevelsPrefer       EducationLevel[]
+  theirKids                   HaveKids?
+  religiousPrefer             Religious[]
+  mustHaveFields              MustHaveField[]
+  allowMatching               Boolean                @default(true)
+  isPrivate                   Boolean                @default(false)
+  showActive                  Boolean                @default(true)
+  pushNotiSetting             NotificationType[]
+  avatar                      File?                  @relation("avatar", fields: [avatarId], references: [id])
+  avatarId                    String?
+  cover                       File?                  @relation("cover", fields: [coverId], references: [id])
+  coverId                     String?
+  role                        Role                   @relation(fields: [roleId], references: [id])
+  roleId                      String
+  userImages                  UserImage[]
+  senderMessage               Message[]              @relation("senderMessage")
+  socialProvider              SocialProvider[]
+  senderFriend                Friend[]               @relation("senderFriend")
+  receiverFriend              Friend[]               @relation("receiverFriend")
+  onlineStatus                OnlineStatus           @default(offline)
+  lastOnline                  DateTime?
+  userAnswer                  UserAnswer[]
+  dislikedUsers               DislikedUser[]         @relation("dislikedUser")
+  beDislikedByUsers           DislikedUser[]         @relation("beDislikedByUser")
+  recommendableUser           RecommendableUser[]    @relation("recommendableUser")
+  recommendToUser             RecommendableUser[]    @relation("recommendToUser")
+  conversationMembers         ConversationMember[]
+  status                      UserStatus             @default(enabled)
+  statusUpdatedAt             DateTime               @default(now())
+  updatedAt                   DateTime               @updatedAt
+  createdAt                   DateTime               @default(now())
+  deletedAt                   DateTime?
+  userDeviceTokens            UserDeviceToken[]
+  refUserInNotifications      Notification[]         @relation("refUser")
+  receiverOfNotifications     NotificationReceiver[]
+  likeCount                   Int                    @default(0)
+  dislikeCount                Int                    @default(0)
+  Comment                     Comment[]
+  Post                        Post[]
+  remainingSuperLike          Int                    @default(5)
+  remainingSuperLikeUpdatedAt DateTime               @default(now())
 }
 model UserDeviceToken {
   token    String   @id
```


