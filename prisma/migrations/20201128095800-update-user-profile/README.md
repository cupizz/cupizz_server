# Migration `20201128095800-update-user-profile`

This migration has been generated by Hien at 11/28/2020, 9:58:00 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TYPE "public"."EducationLevel" AS ENUM ('highSchool', 'college', 'gradSchool')

CREATE TYPE "public"."UsualType" AS ENUM ('never', 'occasionally', 'often')

CREATE TYPE "public"."HaveKids" AS ENUM ('dontHave', 'have')

CREATE TYPE "public"."LookingFor" AS ENUM ('chatting', 'friendship', 'somethingCasual', 'longtermRelationship')

CREATE TYPE "public"."Religious" AS ENUM ('agnostic', 'atheist', 'buddhist', 'catholic', 'christian', 'hindu', 'jewish', 'muslim', 'sikh', 'spiritual', 'other')

ALTER TYPE "MustHaveField" ADD VALUE 'educationLevel';
ALTER TYPE "MustHaveField" ADD VALUE 'theirKids';
ALTER TYPE "MustHaveField" ADD VALUE 'religious'

ALTER TABLE "public"."User" ADD COLUMN "address" text   ,
ADD COLUMN "educationLevel" "EducationLevel"  ,
ADD COLUMN "smoking" "UsualType"  ,
ADD COLUMN "drinking" "UsualType"  ,
ADD COLUMN "yourKids" "HaveKids"  ,
ADD COLUMN "lookingFor" "LookingFor"  ,
ADD COLUMN "religious" "Religious"  ,
ADD COLUMN "educationLevelsPrefer" "EducationLevel"[]  ,
ADD COLUMN "theirKids" "HaveKids"[]  ,
ADD COLUMN "religiousPrefer" "Religious"[]  
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201128074831-can-access-back-office..20201128095800-update-user-profile
--- datamodel.dml
+++ datamodel.dml
@@ -2,9 +2,9 @@
 // learn more about it in the docs: https://pris.ly/d/prisma-schema
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 generator client {
   provider        = "prisma-client-js"
@@ -49,8 +49,11 @@
   age
   height
   distance
   gender
+  educationLevel
+  theirKids
+  religious
 }
 enum NotificationType {
   like
@@ -63,8 +66,46 @@
   enabled
   disabled
 }
+enum EducationLevel {
+  highSchool
+  college
+  gradSchool
+}
+
+enum UsualType {
+  never
+  occasionally
+  often
+}
+
+enum HaveKids {
+  dontHave
+  have
+}
+
+enum LookingFor {
+  chatting
+  friendship
+  somethingCasual
+  longtermRelationship
+}
+
+enum Religious {
+  agnostic
+  atheist
+  buddhist
+  catholic
+  christian
+  hindu
+  jewish
+  muslim
+  sikh
+  spiritual
+  other
+}
+
 model User {
   id                      String                 @id @default(uuid())
   password                String?
   nickName                String
@@ -76,15 +117,25 @@
   job                     String?
   height                  Int?
   longitude               Float?
   latitude                Float?
+  address                 String?
+  educationLevel          EducationLevel?
+  smoking                 UsualType?
+  drinking                UsualType?
+  yourKids                HaveKids?
+  lookingFor              LookingFor?
+  religious               Religious?
   privateFields           PrivateField[]
   minAgePrefer            Int                    @default(18)
   maxAgePrefer            Int                    @default(30)
   minHeightPrefer         Int                    @default(150)
   maxHeightPrefer         Int                    @default(180)
   genderPrefer            Gender[]
   distancePrefer          Int                    @default(100)
+  educationLevelsPrefer   EducationLevel[]
+  theirKids               HaveKids[]
+  religiousPrefer         Religious[]
   mustHaveFields          MustHaveField[]
   allowMatching           Boolean                @default(true)
   isPrivate               Boolean                @default(false)
   showActive              Boolean                @default(true)
@@ -197,13 +248,13 @@
   userCover         User[]              @relation("cover")
 }
 model Role {
-  id          String   @id
-  name        String
-  description String?
-  permissions String[]
-  user        User[]
+  id                  String   @id
+  name                String
+  description         String?
+  permissions         String[]
+  user                User[]
   canAccessBackOffice Boolean  @default(false)
 }
 model Conversation {
```


